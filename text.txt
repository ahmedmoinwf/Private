private CachedKeyStore createMockCachedKeyStore() throws Exception {
    String name = "mykeystore";
    String password = "password";

    // Create a new KeyStore instance
    KeyStore keyStore = KeyStore.getInstance("JKS");
    keyStore.load(null, password.toCharArray());

    // Generate a secret key and store it in the KeyStore
    SecretKey secretKey = KeyGenerator.getInstance("AES").generateKey();
    KeyStore.SecretKeyEntry secretKeyEntry = new KeyStore.SecretKeyEntry(secretKey);
    KeyStore.ProtectionParameter entryPassword = new KeyStore.PasswordProtection(password.toCharArray());
    keyStore.setEntry("secretKey", secretKeyEntry, entryPassword);

    // Convert the KeyStore to a base64-encoded string
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    keyStore.store(baos, password.toCharArray());
    String base64Keystore = Base64.getEncoder().encodeToString(baos.toByteArray());

    return new CachedKeyStore(name, password, base64Keystore);
}
